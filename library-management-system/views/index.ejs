<!-- index.ejs -->
<html>
<head>
    <title>Library Management System</title>
</head>
<body>
    <h1>Welcome to the Library</h1>

    <!-- Form to add a book -->
    <form action="/add-book" method="POST">
        <label for="title">Book Title:</label>
        <input type="text" id="title" name="title" required />

        <label for="author">Select Author:</label>
        <select id="author" name="author" required>
            <option value="">Select Author</option>
            <% authors.forEach(author => { %>
                <option value="<%= author._id %>"><%= author.name %></option>
            <% }) %>
        </select>

        <label for="isbn">ISBN:</label>
        <input type="text" id="isbn" name="isbn" required />

        <label for="availableCopies">Available Copies:</label>
        <input type="number" id="availableCopies" name="availableCopies" required />

        <button type="submit">Add Book</button>
    </form>

    <!-- Display list of books -->
    <h2>Books</h2>
    <ul>
        <% books.forEach(book => { %>
            <li><%= book.title %> by <%= book.author.name %></li>
        <% }) %>
    </ul>
</body>
</html>
